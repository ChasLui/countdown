<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>预约计算器</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            font-family: Arial, sans-serif;
        }
        .selectors {
            display: flex;
            justify-content: center;
            width: 100%;
            align-items: center;
        }
        .label {
            font-size: 1.5em;
            color: #333;
        }
        select {
            padding: 15px; /* 增加填充以增加输入框高度 */
            margin: 5px;
            width: 30%; /* 调整宽度以适应水平排布 */
            max-width: 150px; /* 调整最大宽度以适应水平排布 */
        }
        #timeDifference {
            margin-top: 20px;
            font-size: 1.5em;
            color: #333;
        }
        @media (max-width: 600px) {
            select {
                width: 45%; /* 调整响应式设计以适应水平排布 */
                padding: 20px; /* 移动端增加填充以增加输入框高度 */
            }
        }
    </style>
</head>

<body>
    <div class="selectors"> <!-- 添加一个包裹选择器的容器 -->
        <label class="label">预约</label>
        <select id="selectedHour">
            <option value="1">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
        </select>
        <select id="selectedMinute">
            <option value="1">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
        </select>
    </div>

    <p id="timeDifference"></p>

    <script type="module">

        const updateTimeDifference = () => {
            const selectedHour = parseInt(document.getElementById('selectedHour').value, 10);
            const selectedMinute = parseInt(document.getElementById('selectedMinute').value, 10);

            const currentTime = new Date();
            const currentHour = currentTime.getHours();
            const currentMinute = currentTime.getMinutes();

            let hourDiff = selectedHour - currentHour;
            if (hourDiff < 0) {
                hourDiff += 24;
            }

            let minuteDiff = selectedMinute - currentMinute;
            if (minuteDiff < 0) {
                minuteDiff += 60;
                hourDiff--;
            }

            const timeDifference = `结果：${hourDiff} 小时 ${minuteDiff} 分钟`;
            document.getElementById('timeDifference').innerText = timeDifference;

            // 将选定的小时和分钟存储在localStorage中
            localStorage.setItem('selectedHour', selectedHour);
            localStorage.setItem('selectedMinute', selectedMinute);
        };

        // 从localStorage中检索选定的小时和分钟
        const selectedHour = localStorage.getItem('selectedHour') || 0;
        const selectedMinute = localStorage.getItem('selectedMinute') || 0;

        document.getElementById('selectedHour').value = selectedHour;
        document.getElementById('selectedMinute').value = selectedMinute;

        // 页面加载时立即计算时间差异
        updateTimeDifference();

        document.getElementById('selectedHour').addEventListener('change', updateTimeDifference);
        document.getElementById('selectedMinute').addEventListener('change', updateTimeDifference);
    </script>
</body>

</html>

